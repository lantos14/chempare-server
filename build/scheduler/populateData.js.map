{"version":3,"sources":["../../src/scheduler/populateData.js"],"names":["populateWithNewData","productList","productCategories","result","fetchList","forEach","productCategoryList","product_instance","Product","product","img","name","price","store","type","save","err","handleError"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,sBAAsB,eAAtBA,mBAAsB,GAAY;AACtC;AACA,MAAMC,cAAc,IAAIC,mBAAJ,EAApB;AACA,MAAMC,SAAS,MAAM,gCAAiBF,YAAYG,SAA7B,CAArB;;AAEA,QAAMD,OAAOE,OAAP,CAAe,+BAAuB;AAC1CC,wBAAoBD,OAApB,CAA4B,mBAAW;;AAErC;AACA,UAAME,mBAAmB,IAAIC,iBAAJ,CAAY;AACnC,eAAOC,QAAQC,GADoB;AAEnC,gBAAQD,QAAQE,IAFmB;AAGnC,iBAASF,QAAQG,KAHkB;AAInC,iBAASH,QAAQI,KAJkB;AAKnC,gBAAQJ,QAAQK;AALmB,OAAZ,CAAzB;;AAQA;AACAP,uBAAiBQ,IAAjB,CAAsB,UAAUC,GAAV,EAAe;AACnC,YAAIA,GAAJ,EAAS,OAAOC,YAAYD,GAAZ,CAAP;AAEV,OAHD;AAID,KAhBD;AAiBD,GAlBK,CAAN;AAmBD,CAxBD;;kBA0BehB,mB","file":"populateData.js","sourcesContent":["import scrapeController from '../Scrapers/scrapeController';\r\nimport Product from '../models/product.model';\r\nimport productCategories from '../Scrapers/catFilter';\r\n\r\nconst populateWithNewData = async () => {\r\n  // start the scraping\r\n  const productList = new productCategories;\r\n  const result = await scrapeController(productList.fetchList);\r\n\r\n  await result.forEach(productCategoryList => {\r\n    productCategoryList.forEach(product => {\r\n\r\n      // Create an instance of model Product\r\n      const product_instance = new Product({\r\n        \"img\": product.img,\r\n        \"name\": product.name,\r\n        \"price\": product.price,\r\n        \"store\": product.store,\r\n        \"type\": product.type,\r\n      });\r\n\r\n      // Save the new model instance, passing a callback\r\n      product_instance.save(function (err) {\r\n        if (err) return handleError(err);\r\n\r\n      });\r\n    });\r\n  })\r\n};\r\n\r\nexport default populateWithNewData;"]}
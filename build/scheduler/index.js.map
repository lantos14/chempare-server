{"version":3,"sources":["../../src/scheduler/index.js"],"names":["handleData","data","error","Error","console","log","msg","numberOfProducts"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,aAAa,eAAbA,UAAa,GAAY;AAC7B,MAAIC,aAAJ;;AAEA,MAAI;AACF,UAAM,iCAAN;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc;AACd,UAAM,IAAIC,KAAJ,CAAU,8CAAV,CAAN;AACD;AACDC,UAAQC,GAAR,CAAY,kDAAZ;;AAEA,MAAI;AACFJ,WAAO,MAAM,6BAAb;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc;AACd,UAAM,IAAIC,KAAJ,CAAU,oCAAV,CAAN;AAED;AACDC,UAAQC,GAAR,CAAY,2CAAZ;;AAEA,SAAO;AACLC,SAAK,uBADA;AAELC,sBAAkB,gCAAiBN,IAAjB;AAFb,GAAP;AAID,CAtBD;;kBAwBeD,U","file":"index.js","sourcesContent":["import deleteDeprecatedData from './deleteDeprecated';\r\nimport populateWithNewData from './populateData';\r\nimport countProductsSum from '../utilities/countProductsSum';\r\n\r\nconst handleData = async () => {\r\n  let data;\r\n\r\n  try {\r\n    await deleteDeprecatedData();\r\n  } catch (error) {\r\n    throw new Error('Deletion of Deprecated Data was unsuccessful');\r\n  }\r\n  console.log('--log: deletion of deprecated data was a success');\r\n\r\n  try {\r\n    data = await populateWithNewData();\r\n  } catch (error) {\r\n    throw new Error('Scraping new Data was unsuccessful');\r\n\r\n  }\r\n  console.log('--log: Scraping of new Data was a success');\r\n\r\n  return {\r\n    msg: 'update was successful',\r\n    numberOfProducts: countProductsSum(data),\r\n  };\r\n};\r\n\r\nexport default handleData;"]}